(()=>{let e=document.getElementById("saturate"),t=document.getElementById("contrast"),n=document.getElementById("brightness"),l=document.getElementById("sepia"),d=document.getElementById("grayscale"),a=document.getElementById("blur"),o=document.getElementById("hue-rotate"),u=document.querySelector(".image-editor .img img"),r=document.getElementById("download"),s=document.getElementById("rest"),m=document.getElementById("upload"),g=document.querySelectorAll(".form-range");const c=document.getElementById("canvas"),y=c.getContext("2d");function i(){document.getElementById("saturate-progress").style.width=(e.value+0)/200*10+"%",document.getElementById("contrast-progress").style.width=(t.value+0)/200*10+"%",document.getElementById("brightness-progress").style.width=(n.value+0)/200*10+"%",document.getElementById("sepia-progress").style.width=(l.value+0)/200*10+"%",document.getElementById("grayscale-progress").style.width=d.value/1*100+"%",document.getElementById("blur-progress").style.width=a.value/10*100+"%",document.getElementById("hue-rotate-progress").style.width=o.value/350*100+"%",document.getElementById("no-saturate").innerHTML=`${e.value}`,document.getElementById("no-contrast").innerHTML=`${t.value}`,document.getElementById("no-brightness").innerHTML=`${n.value}`,document.getElementById("no-sepia").innerHTML=`${l.value}`,document.getElementById("no-grayscale").innerHTML=`${d.value}`,document.getElementById("no-blur").innerHTML=`${a.value}`,document.getElementById("no-hue-rotate").innerHTML=`${o.value}`}window.onload=i(),m.onchange=()=>{i(),r.style.display="block",c.style.display="block",s.style.display="block",u.style.display="block";let e=new FileReader;e.readAsDataURL(m.files[0]),e.onload=()=>{u.src=e.result},u.onload=()=>{c.width=u.width,c.height=u.height,y.drawImage(u,0,0,c.width,c.height),u.style.display="none"}},g.forEach((r=>{r.addEventListener("input",(()=>{y.filter=`\n    saturate(${e.value}%)\n    contrast(${t.value}%)\n    brightness(${n.value}%)\n    sepia(${l.value}%)\n    grayscale(${d.value})\n    blur(${a.value}px)\n    hue-rotate(${o.value}deg)\n    `,y.drawImage(u,0,0,c.width,c.height),i()}))})),r.onclick=()=>{r.href=c.toDataURL()}})();